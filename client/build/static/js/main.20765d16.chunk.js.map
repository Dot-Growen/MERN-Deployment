{"version":3,"sources":["components/List.jsx","containers/Main.js","components/Form.jsx","containers/Update.js","containers/Create.js","components/Info.jsx","containers/Detail.js","App.js","index.js"],"names":["List","props","pet","className","map","idx","key","name","type","onClick","navigate","_id","useState","setPet","setError","useEffect","isSubscribed","axios","get","then","res","data","catch","error","toString","to","Form","initialName","initialType","initialDescription","initialSkillOne","initialSkillTwo","initialSkillThree","onSubmitProp","buttonName","setName","setType","description","setDescription","skillOne","setSkillOne","skillTwo","setSkillTwo","skillThree","setSkillThree","likes","onSubmitCapture","e","preventDefault","onChange","target","value","placeholder","Update","errors","setErrors","loaded","setLoaded","id","console","log","err","index","put","errorResponse","errorArr","Object","keys","push","message","Create","post","response","Info","onLike","clicked","setClicked","Detail","delete","Main","path","ReactDOM","render","StrictMode","App","document","getElementById"],"mappings":"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","file":"static/js/main.20765d16.chunk.js","sourcesContent":["import React from 'react'\r\nimport { navigate } from '@reach/router';\r\n\r\nconst List = (props) => {\r\n\r\n    const { pet } = props\r\n\r\n    return (\r\n        <div>\r\n            <table className=\"table mx-auto w-75\" >\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Type</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {pet.map((pet, idx) => {\r\n                        return (\r\n                            <tr key={idx}>\r\n                                <td>{pet.name}</td>\r\n                                <td>{pet.type}</td>\r\n                                <td>\r\n                                    <button onClick={() => {\r\n                                        navigate(`/${pet._id}`)\r\n                                    }} >details</button>\r\n                                    <button onClick={() => {\r\n                                        navigate(`/edit/${pet._id}`)\r\n                                    }} >edit</button>\r\n                                </td>\r\n                            </tr>\r\n                        )\r\n                    })}\r\n                </tbody>\r\n\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default List;\r\n\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport List from '../components/List'\r\nimport { Link } from '@reach/router';\r\n\r\nexport default () => {\r\n\r\n    const [pet, setPet] = useState([]);\r\n    const [error, setError] = useState(\"\");\r\n\r\n\r\n    useEffect(() => {\r\n        let isSubscribed = true;\r\n        axios.get(\"http://localhost:8000/api/pets\")\r\n            .then(res => setPet(res.data))\r\n            .catch(error => (isSubscribed ? setError(error.toString()) : null))\r\n        return () => (isSubscribed = false);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"p-5\">\r\n            <div className=\"mt-3 d-flex justify-content-between\">\r\n                <h2>Pet Shelter</h2>\r\n                <Link to={'/new'}>\r\n                    <p className=\"my-4\">add a pet to the shelter</p>\r\n                </Link>\r\n            </div>\r\n            <p>These pets are looking for a good home</p>\r\n            <List pet={pet} />\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nconst Form = (props) => {\r\n\r\n    const {\r\n        initialName,\r\n        initialType,\r\n        initialDescription,\r\n        initialSkillOne,\r\n        initialSkillTwo,\r\n        initialSkillThree,\r\n        onSubmitProp,\r\n        buttonName,\r\n    } = props\r\n\r\n    const [name, setName] = useState(initialName)\r\n    const [type, setType] = useState(initialType)\r\n    const [description, setDescription] = useState(initialDescription)\r\n    const [skillOne, setSkillOne] = useState(initialSkillOne)\r\n    const [skillTwo, setSkillTwo] = useState(initialSkillTwo)\r\n    const [skillThree, setSkillThree] = useState(initialSkillThree)\r\n    const [likes, setLike] = useState(0);\r\n\r\n    const onSubmitHandler = e => {\r\n        e.preventDefault();\r\n        onSubmitProp({\r\n            name,\r\n            type,\r\n            description,\r\n            skillOne,\r\n            skillTwo,\r\n            skillThree,\r\n            likes,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmitCapture={onSubmitHandler} className='card mx-auto col-8 mt-5 p-3'>\r\n                <div className='form-row'>\r\n                    <div className='form-group col-md-6'>\r\n                        <label>Pet Name:</label>\r\n                        <input\r\n                            type='text'\r\n                            name='name'\r\n                            onChange={e => setName(e.target.value)}\r\n                            className='form-control'\r\n                            placeholder={name}\r\n                        />\r\n                    </div>\r\n                    <div className='form-group col-md-6'>\r\n                        <label>Skill 1:</label>\r\n                        <input\r\n                            type='text'\r\n                            name='skillOne'\r\n                            onChange={e => setSkillOne(e.target.value)}\r\n                            className='form-control'\r\n                            placeholder={skillOne}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className='form-row'>\r\n                    <div className='form-group col-md-6'>\r\n                        <label>Pet Type:</label>\r\n                        <input\r\n                            type='text'\r\n                            name='type'\r\n                            onChange={e => setType(e.target.value)}\r\n                            className='form-control'\r\n                            placeholder={type}\r\n                        />\r\n                    </div>\r\n                    <div className='form-group col-md-6'>\r\n                        <label>Skill 2:</label>\r\n                        <input\r\n                            type='text'\r\n                            name='skillTwo'\r\n                            onChange={e => setSkillTwo(e.target.value)}\r\n                            className='form-control'\r\n                            placeholder={skillTwo}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className='form-row'>\r\n                    <div className='form-group col-md-6'>\r\n                        <label>Pet Description:</label>\r\n                        <input\r\n                            type='text'\r\n                            name='description'\r\n                            onChange={e => setDescription(e.target.value)}\r\n                            className='form-control'\r\n                            placeholder={description}\r\n                        />\r\n                    </div>\r\n                    <div className='form-group col-md-6'>\r\n                        <label>Skill 3:</label>\r\n                        <input\r\n                            type='text'\r\n                            name='skillThree'\r\n                            onChange={e => setSkillThree(e.target.value)}\r\n                            className='form-control'\r\n                            placeholder={skillThree}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <button className=\"btn btn-primary btn-block\">{buttonName}</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Form\r\n","import React, { useState, useEffect } from 'react';\r\nimport Form from '../components/Form';\r\nimport axios from 'axios';\r\nimport { navigate, Link } from '@reach/router'\r\n\r\nconst Update = (props) => {\r\n\r\n    const [errors, setErrors] = useState([]);\r\n    const [pet, setPet] = useState();\r\n    const [loaded, setLoaded] = useState(false);\r\n    const { id } = props\r\n\r\n    useEffect(() => {\r\n        let isSubscribed = true;\r\n        axios.get(`http://localhost:8000/api/pet/${id}`)\r\n            .then(res => (isSubscribed ? setPet(res.data) : null))\r\n            .then(res => setLoaded(true))\r\n            .catch(error => console.log(error))\r\n\r\n        return () => (isSubscribed = false);\r\n    }, [])\r\n\r\n    const updatePet = pet => {\r\n        axios.put(`http://localhost:8000/api/pet/${id}`, pet)\r\n            .then(res => {\r\n                console.log(res);\r\n                navigate('/');\r\n            })\r\n            .catch(err => {\r\n                const errorResponse = err.res.data.errors;\r\n                const errorArr = [];\r\n                for (const key of Object.keys(errorResponse)) {\r\n                    errorArr.push(errorResponse[key].message)\r\n                }\r\n                setErrors(errorArr);\r\n            })\r\n    }\r\n\r\n    const deletePet = e => {\r\n        axios.delete(`http://localhost:8000/api/pet/${id}`)\r\n            .then(res => {\r\n                navigate('/')\r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"p-5\">\r\n            {loaded && (\r\n                <>\r\n                    <div className=\"mt-3 d-flex justify-content-between\">\r\n                        <h2>Pet Shelter</h2>\r\n                        <Link to={'/'}>\r\n                            <p className=\"my-4\">Back to home</p>\r\n                        </Link>\r\n                    </div>\r\n                        <p>Edit: {pet.name}</p>\r\n                    {errors.map((err, index) => <p key={index}>{err}</p>)}\r\n                    <Form\r\n                        initialName={pet.name}\r\n                        initialType={pet.type}\r\n                        initialDescription={pet.description}\r\n                        initialSkillOne={pet.skillOne}\r\n                        initialSkillTwo={pet.skillTwo}\r\n                        initialSkillThree={pet.skillThree}\r\n                        onSubmitProp={updatePet}\r\n                        buttonName=\"Edit Pet\"\r\n                    />\r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Update;\r\n","import React, { useState } from 'react';\r\nimport Form from '../components/Form';\r\nimport axios from 'axios';\r\nimport { navigate, Link } from '@reach/router'\r\n\r\nconst Create = () => {\r\n\r\nconst [errors, setErrors] = useState([]);\r\n\r\n    const createPet = pet => {\r\n        axios.post('http://localhost:8000/api/new', pet)\r\n            .then(res => {\r\n                console.log(res);\r\n                navigate('/');\r\n            })\r\n            .catch(err => {\r\n                const errorResponse = err.response.data.errors;\r\n                const errorArr = [];\r\n                for (const key of Object.keys(errorResponse)) {\r\n                    errorArr.push(errorResponse[key].message)\r\n                }\r\n                setErrors(errorArr);\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-5\">\r\n        <div className=\"mt-3 d-flex justify-content-between\">\r\n                <h2>Pet Shelter</h2>\r\n                <Link to={'/'}>\r\n                    <p className=\"my-4\">Back to home</p>\r\n                </Link>\r\n            </div>\r\n            <p>Know a pet needing a home?</p>\r\n            <div className=\"d-flex\">\r\n                {errors.map((err, index) => <p className=\"text-danger\" key={index}> --- {err} --- </p>)}\r\n            </div>\r\n        \r\n            <Form\r\n                initialName={\"\"}\r\n                initialType={\"\"}\r\n                initialDescription={\"\"}\r\n                initialSkillOne={\"\"}\r\n                initialSkillTwo={\"\"}\r\n                initialSkillThree={\"\"}\r\n                onSubmitProp={createPet}\r\n                buttonName=\"Add Pet\"\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Create;\r\n","import React, { useState } from 'react';\r\n\r\nconst Info = (props) => {\r\n\r\n    const { pet, onLike } = props\r\n    const [clicked, setClicked] = useState(false);\r\n\r\n    const handleClick = e => {\r\n        onLike(pet)\r\n        setClicked(true)\r\n    }\r\n\r\n    return (\r\n        <div className=\"Card\">\r\n            <div className=\"d-flex mx-auto mt-5 justify-content-between w-50 align-items-center\">\r\n                <h2>Pet Name:</h2>\r\n                <h5>{pet.name}</h5>\r\n            </div>\r\n            <div className=\"d-flex mx-auto mt-5 justify-content-between w-50 align-items-center\">\r\n            <h2>Description:</h2>\r\n            <h5>{pet.description}</h5>\r\n            </div> \r\n            <div className=\"d-flex mx-auto mt-5 justify-content-between w-50 align-items-center\">\r\n            <h2>Skills:</h2>\r\n            <h5>1. {pet.skillOne} 2. {pet.skillTwo} 3. {pet.skillThree}</h5>\r\n            </div> \r\n            {clicked ? null : <button onClick={handleClick} className=\"btn btn-success\">Like </button> } ({pet.likes}) Likes\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Info;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { navigate, Link } from '@reach/router'\r\nimport Info from '../components/Info';\r\n\r\nconst Detail = (props) => {\r\n\r\n    const { id } = props\r\n    const [pet, setPet] = useState();\r\n    const [loaded, setLoaded] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let isSubscribed = true;\r\n        axios.get(`http://localhost:8000/api/pet/${id}`)\r\n            .then(res => (isSubscribed ? setPet(res.data) : null))\r\n            .then(res => setLoaded(true))\r\n            .catch(error => console.log(error))\r\n\r\n        return () => (isSubscribed = false);\r\n    }, [])\r\n\r\n    const deletePet = e => {\r\n        axios.delete(`http://localhost:8000/api/pet/${id}`)\r\n            .then(res => {\r\n                navigate('/')\r\n            })\r\n    }\r\n\r\n    const updateLikes = pet => {\r\n        pet.likes += 1\r\n        setPet(pet)\r\n        axios.put(`http://localhost:8000/api/pet/${id}`, pet)\r\n            .then(res => {\r\n                console.log(res);\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-5\">\r\n            {loaded && (\r\n                <>\r\n                    <div className=\"mt-3 d-flex justify-content-between\">\r\n                        <h2>Pet Shelter</h2>\r\n                        <Link to={'/'}>\r\n                            <p className=\"my-4\">Back to home</p>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"mt-3 d-flex justify-content-between\">\r\n                        <h3>Details about: {pet.name}</h3>\r\n                        <button onClick={deletePet} className=\"btn btn-danger\">Adopt {pet.name}</button>\r\n                    </div>\r\n\r\n                    <Info pet={pet} onLike={updateLikes} />\r\n                </>\r\n\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Detail;\r\n","import React from 'react';\nimport { Router } from '@reach/router';\nimport Main from './containers/Main';\nimport Update from './containers/Update'\nimport Create from './containers/Create'\nimport Detail from './containers/Detail'\n\n\nexport default () => {\n    return (\n        <div>\n            <Router>\n                <Main path=\"/\" />\n                <Create path=\"/new\" />\n                <Update path=\"/edit/:id\" />\n                <Detail path=\"/:id\" />\n            </Router>\n        </div>\n    );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}